<div id="tutorial-save-modal">
<div class="modal-header"><h4>Save Your Data</h4></div>
<div class="modal-body">
	<p>Save your data to the <strong>Can I Graduate?</strong> server to automatically load when you come back. The data is encrypted locally with the following encryption key:</p>
	<div class="row form-group" ng-class="{'has-error':data.key && data.key.length < 16}">
		<div class="col-sm-8">
			<input type="text" ng-model="data.key" class="form-control"/>
		</div>
		<div class="col-sm-4">
			<button class="btn btn-default" ng-click="regenerate()"><i class="fa fa-refresh"></i> Generate</button>
		</div>
	</div>
	<alert type="danger" ng-if="data.key && data.key.length < 16">Your encryption key must be at least sixteen characters long</alert>
	<hr/>
	<p>Your data is currently 
		<span class="text-danger" ng-if="!record.timestamp || !data.key">unsaved</span>
		<span class="text-success" ng-if="record.timestamp && data.key">saved, last modified <span ng-bind="record.timestamp + ' Z' | timeago" tooltip="{{record.timestamp}} GMT"></span></span>
	</p>
</div>
<div class="modal-footer">
	<button class="btn btn-success" ng-click="save()">Save!</button>
	<button class="btn btn-default" ng-click="save();$close()">Save and Close!</button>
	<button class="btn btn-primary" ng-click="$dismiss()">Close!</button>
</div>
</div>
